2025-05-11 02:37:57 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 1996 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 02:37:57 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 02:37:57 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 02:38:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 02:38:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 02:38:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 02:38:00 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 02:38:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3009 ms
2025-05-11 02:38:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 02:38:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38c460e8
2025-05-11 02:38:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 02:38:01 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 02:38:01 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.213s)
2025-05-11 02:38:01 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.7
2025-05-11 02:38:01 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-05-11 02:38:01 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 02:38:01 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 02:38:01 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 02:38:03 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 02:38:03 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 02:38:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 02:38:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 02:38:05 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 02:38:05 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 02:38:05 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 02:38:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 02:38:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 02:38:07 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 11.231 seconds (process running for 12.874)
2025-05-11 02:39:21 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-11 02:39:21 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-11 02:39:21 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-05-11 02:39:22 [http-nio-8080-exec-1] INFO  r.n.s.controller.RentalController - Полученный запрос: POST /start с параметрами: userId=2, scooterId=2, rentalPointId=11.
2025-05-11 02:39:22 [http-nio-8080-exec-1] INFO  r.n.s.s.r.RentalServiceDefaultImpl - Запрос на начало аренды. Пользователь: 2, Самокат: 2, Точка: 11.
2025-05-11 02:39:22 [http-nio-8080-exec-1] INFO  r.n.s.s.r.start.RentalStarterImpl - Начало аренды. Пользователь: 2, Самокат: 2, Точка: 11
2025-05-11 02:39:22 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Fetching Scooter entity by id: 2.
2025-05-11 02:39:22 [http-nio-8080-exec-1] INFO  r.n.s.r.util.BaseRepositoryImpl - Found Scooter entity with id: 2.
2025-05-11 02:39:22 [http-nio-8080-exec-1] WARN  r.n.s.s.r.start.RentalStarterImpl - Самокат с id: 2 не свободен. Текущий статус: TAKEN.
2025-05-11 02:39:22 [http-nio-8080-exec-1] ERROR r.n.s.e.h.GlobalExceptionHandler - Exception occurred: Scooter with id: 2 is not free..
ru.noleg.scootrent.exception.BusinessLogicException: Scooter with id: 2 is not free.
	at ru.noleg.scootrent.service.rental.start.RentalStarterImpl.validateAndGetScooter(RentalStarterImpl.java:90)
	at ru.noleg.scootrent.service.rental.start.RentalStarterImpl.startRental(RentalStarterImpl.java:55)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at ru.noleg.scootrent.service.rental.start.RentalStarterImpl$$SpringCGLIB$$0.startRental(<generated>)
	at ru.noleg.scootrent.service.rental.RentalServiceDefaultImpl.startRental(RentalServiceDefaultImpl.java:45)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at ru.noleg.scootrent.service.rental.RentalServiceDefaultImpl$$SpringCGLIB$$0.startRental(<generated>)
	at ru.noleg.scootrent.controller.RentalController.startRental(RentalController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at ru.noleg.scootrent.controller.RentalController$$SpringCGLIB$$0.startRental(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-11 02:40:18 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 02:40:18 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 02:40:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 02:40:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 02:40:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 02:45:50 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 19764 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 02:45:50 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 02:45:50 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 02:45:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 02:45:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 02:45:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 02:45:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 02:45:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2020 ms
2025-05-11 02:45:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 02:45:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38de5daf
2025-05-11 02:45:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 02:45:53 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 02:45:53 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.059s)
2025-05-11 02:45:53 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.7
2025-05-11 02:45:53 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-05-11 02:45:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 02:45:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 02:45:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 02:45:54 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 02:45:54 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 02:45:55 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 02:45:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 02:45:56 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 02:45:56 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 02:45:56 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 02:45:56 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 02:45:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 02:45:56 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 6.722 seconds (process running for 7.769)
2025-05-11 02:46:56 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-11 02:46:56 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-11 02:46:56 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-11 02:46:57 [http-nio-8080-exec-9] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 773 ms
2025-05-11 02:47:28 [http-nio-8080-exec-5] INFO  r.n.s.controller.RentalController - Полученный запрос: POST /start с параметрами: userId=6, scooterId=5, rentalPointId=13.
2025-05-11 02:47:28 [http-nio-8080-exec-5] INFO  r.n.s.s.r.RentalServiceDefaultImpl - Запрос на начало аренды. Пользователь: 6, Самокат: 5, Точка: 13.
2025-05-11 02:47:28 [http-nio-8080-exec-5] INFO  r.n.s.s.r.start.RentalStarterImpl - Начало аренды. Пользователь: 6, Самокат: 5, Точка: 13
2025-05-11 02:47:28 [http-nio-8080-exec-5] DEBUG r.n.s.r.util.BaseRepositoryImpl - Fetching Scooter entity by id: 5.
2025-05-11 02:47:28 [http-nio-8080-exec-5] INFO  r.n.s.r.util.BaseRepositoryImpl - Found Scooter entity with id: 5.
2025-05-11 02:47:28 [http-nio-8080-exec-5] DEBUG r.n.s.r.util.BaseRepositoryImpl - Fetching User entity by id: 6.
2025-05-11 02:47:28 [http-nio-8080-exec-5] INFO  r.n.s.r.util.BaseRepositoryImpl - Found User entity with id: 6.
2025-05-11 02:47:28 [http-nio-8080-exec-5] DEBUG r.n.s.r.util.BaseRepositoryImpl - Fetching LocationNode entity by id: 13.
2025-05-11 02:47:28 [http-nio-8080-exec-5] INFO  r.n.s.r.util.BaseRepositoryImpl - Found LocationNode entity with id: 13.
2025-05-11 02:47:28 [http-nio-8080-exec-5] INFO  r.n.s.s.r.t.TariffSelectionServiceImpl - Поиск подходящего тарифа для пользователя с id: 6.
2025-05-11 02:47:28 [http-nio-8080-exec-5] DEBUG r.n.s.s.r.t.s.SubscriptionTariffStrategy - Выбор тарифа по подписке для пользователя с id: 6.
2025-05-11 02:47:29 [http-nio-8080-exec-5] DEBUG r.n.s.s.r.t.s.UserTariffStrategy - Выбор специального тарифа для пользователя с id: 6.
2025-05-11 02:47:29 [http-nio-8080-exec-5] INFO  r.n.s.s.r.t.TariffSelectionServiceImpl - Выбран тариф Weekly Standard c типом: SPECIAL_TARIFF для пользователя с id: 6.
2025-05-11 02:47:29 [http-nio-8080-exec-5] INFO  r.n.s.r.util.BaseRepositoryImpl - Persisted new Rental entity successfully.
2025-05-11 02:47:29 [http-nio-8080-exec-5] INFO  r.n.s.s.r.start.RentalStarterImpl - Аренда успешно создана. id: 2.
2025-05-11 02:47:29 [http-nio-8080-exec-5] DEBUG r.n.s.controller.RentalController - Аренда начата успешно. rentalId=2.
2025-05-11 03:03:45 [http-nio-8080-exec-10] INFO  r.n.s.controller.RentalController - Полученный запрос: POST /end с параметрами: rentalId=2, endPointId=11.
2025-05-11 03:03:45 [http-nio-8080-exec-10] INFO  r.n.s.s.r.RentalServiceDefaultImpl - Запрос на завершение аренды id: 2, точка: 11.
2025-05-11 03:03:45 [http-nio-8080-exec-10] INFO  r.n.s.s.r.stop.RentalStopperImpl - Завершение аренды ID: 2, точка завершения: 11.
2025-05-11 03:03:45 [http-nio-8080-exec-10] DEBUG r.n.s.r.util.BaseRepositoryImpl - Fetching Rental entity by id: 2.
2025-05-11 03:03:45 [http-nio-8080-exec-10] INFO  r.n.s.r.util.BaseRepositoryImpl - Found Rental entity with id: 2.
2025-05-11 03:03:45 [http-nio-8080-exec-10] DEBUG r.n.s.r.util.BaseRepositoryImpl - Fetching LocationNode entity by id: 11.
2025-05-11 03:03:45 [http-nio-8080-exec-10] INFO  r.n.s.r.util.BaseRepositoryImpl - Found LocationNode entity with id: 11.
2025-05-11 03:03:45 [http-nio-8080-exec-10] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Расчет стоимости для типа тарифа: SPECIAL_TARIFF.
2025-05-11 03:03:45 [http-nio-8080-exec-10] INFO  r.n.s.s.r.b.s.UserTariffCostStrategy - Расчет стоимости аренды по специальному тарифу для пользователя с id: 6.
2025-05-11 03:03:45 [http-nio-8080-exec-10] DEBUG r.n.s.s.r.b.s.UserTariffCostStrategy - Найден специальный тариф Weekly Standard. Цена за минуту: null, скидка: 50
2025-05-11 03:03:45 [http-nio-8080-exec-10] DEBUG r.n.s.s.r.b.s.UserTariffCostStrategy - Цена за минуту: 4.00000.
2025-05-11 03:03:45 [http-nio-8080-exec-10] DEBUG r.n.s.s.r.b.s.UserTariffCostStrategy - Продолжительность аренды: 16.
2025-05-11 03:03:45 [http-nio-8080-exec-10] DEBUG r.n.s.s.r.b.s.UserTariffCostStrategy - Стоимость аренды (без учета разблокировки): 64.00000
2025-05-11 03:03:45 [http-nio-8080-exec-10] INFO  r.n.s.s.r.b.s.UserTariffCostStrategy - Итоговая стоимость аренды для пользователя с id: 6 = 79.00000.
2025-05-11 03:03:45 [http-nio-8080-exec-10] INFO  r.n.s.r.util.BaseRepositoryImpl - Updated Rental entity successfully with id: 2.
2025-05-11 03:03:45 [http-nio-8080-exec-10] INFO  r.n.s.s.r.stop.RentalStopperImpl - Аренда id: 2 успешно завершена. Стоимость: 79.00000, Длительность: PT16M16.8333979S.
2025-05-11 03:03:45 [http-nio-8080-exec-10] DEBUG r.n.s.controller.RentalController - Аренда окончена: rentalId=2 на точке: endPointId=11.
2025-05-11 03:08:27 [http-nio-8080-exec-8] INFO  r.n.s.c.AdminScooterController - Полученный запрос: GET /5/history
2025-05-11 03:08:27 [http-nio-8080-exec-8] INFO  r.n.s.s.r.RentalServiceDefaultImpl - Запрос истории аренд для самоката id: 5.
2025-05-11 03:08:27 [http-nio-8080-exec-8] DEBUG r.n.s.c.AdminScooterController - Получено 1 записей истории аренды для самоката с id 5.
2025-05-11 03:09:33 [http-nio-8080-exec-5] INFO  r.n.s.controller.UserController - Полученный запрос: GET /6/history получение истории аренды пользователя.
2025-05-11 03:09:33 [http-nio-8080-exec-5] INFO  r.n.s.s.r.RentalServiceDefaultImpl - Запрос истории аренд для пользователя id: 6.
2025-05-11 03:09:33 [http-nio-8080-exec-5] DEBUG r.n.s.controller.UserController - Получено 1 записей истории аренды для пользователя с id 6.
2025-05-11 03:10:03 [http-nio-8080-exec-6] INFO  r.n.s.controller.ScooterController - Полученный запрос: GET получения всех самокатов.
2025-05-11 03:10:03 [http-nio-8080-exec-6] INFO  r.n.s.s.s.ScooterServiceDefaultImpl - Получение всех самокатов
2025-05-11 03:10:03 [http-nio-8080-exec-6] DEBUG r.n.s.r.util.BaseRepositoryImpl - Fetching all Scooter entities...
2025-05-11 03:10:03 [http-nio-8080-exec-6] INFO  r.n.s.r.util.BaseRepositoryImpl - Fetched 5 Scooter entities.
2025-05-11 03:10:03 [http-nio-8080-exec-6] INFO  r.n.s.s.s.ScooterServiceDefaultImpl - Получено 5 самокатов
2025-05-11 03:10:03 [http-nio-8080-exec-6] DEBUG r.n.s.controller.ScooterController - Получено самокатов: 5.
2025-05-11 03:13:43 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 03:13:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 03:13:43 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 03:13:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 03:13:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 03:13:47 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 21104 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 03:13:47 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 03:13:47 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 03:13:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 03:13:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 03:13:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 03:13:49 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 03:13:49 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1364 ms
2025-05-11 03:13:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 03:13:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1ccc1026
2025-05-11 03:13:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 03:13:49 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 03:13:49 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.056s)
2025-05-11 03:13:49 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.7
2025-05-11 03:13:49 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-05-11 03:13:49 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 03:13:49 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 03:13:49 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 03:13:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 03:13:50 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 03:13:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 03:13:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 03:13:51 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 03:13:51 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 03:13:51 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 03:13:51 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 03:13:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 03:13:52 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 5.047 seconds (process running for 5.873)
2025-05-11 03:14:02 [http-nio-8080-exec-5] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-11 03:14:02 [http-nio-8080-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-11 03:14:02 [http-nio-8080-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-11 03:14:02 [http-nio-8080-exec-5] INFO  r.n.s.controller.ScooterController - Полученный запрос: GET получения всех самокатов.
2025-05-11 03:14:02 [http-nio-8080-exec-5] INFO  r.n.s.s.s.ScooterServiceDefaultImpl - Получение всех самокатов
2025-05-11 03:14:02 [http-nio-8080-exec-5] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение всех сущностей Scooter.
2025-05-11 03:14:02 [http-nio-8080-exec-5] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдено 5 Scooter сущностей.
2025-05-11 03:14:02 [http-nio-8080-exec-5] INFO  r.n.s.s.s.ScooterServiceDefaultImpl - Получено 5 самокатов
2025-05-11 03:14:02 [http-nio-8080-exec-5] ERROR r.n.s.e.h.GlobalExceptionHandler - Exception occurred: Handler dispatch failed: java.lang.NoSuchMethodError: 'void ru.noleg.scootrent.dto.scooter.ScooterDto.<init>(java.lang.Long, java.lang.String, ru.noleg.scootrent.entity.scooter.ScooterStatus, java.lang.Long, java.lang.Long)'.
jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void ru.noleg.scootrent.dto.scooter.ScooterDto.<init>(java.lang.Long, java.lang.String, ru.noleg.scootrent.entity.scooter.ScooterStatus, java.lang.Long, java.lang.Long)'
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.NoSuchMethodError: 'void ru.noleg.scootrent.dto.scooter.ScooterDto.<init>(java.lang.Long, java.lang.String, ru.noleg.scootrent.entity.scooter.ScooterStatus, java.lang.Long, java.lang.Long)'
	at ru.noleg.scootrent.mapper.ScooterMapperImpl.mapToDto(ScooterMapperImpl.java:115)
	at ru.noleg.scootrent.mapper.ScooterMapperImpl.mapToDtos(ScooterMapperImpl.java:142)
	at ru.noleg.scootrent.controller.ScooterController.getAllScooters(ScooterController.java:112)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at ru.noleg.scootrent.controller.ScooterController$$SpringCGLIB$$0.getAllScooters(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 39 common frames omitted
2025-05-11 03:14:10 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 03:14:10 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 03:14:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 03:14:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 03:14:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 03:14:31 [main] INFO  r.n.s.ScootRentApplicationTests - Starting ScootRentApplicationTests using Java 21.0.4 with PID 21240 (started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 03:14:31 [main] DEBUG r.n.s.ScootRentApplicationTests - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 03:14:31 [main] INFO  r.n.s.ScootRentApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-05-11 03:14:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 03:14:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4357524b
2025-05-11 03:14:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 03:14:33 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 03:14:33 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.069s)
2025-05-11 03:14:33 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.7
2025-05-11 03:14:33 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-05-11 03:14:33 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 03:14:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 03:14:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 03:14:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 03:14:34 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 03:14:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 03:14:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 03:14:35 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 03:14:35 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 03:14:35 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 03:14:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 03:14:37 [main] INFO  r.n.s.ScootRentApplicationTests - Started ScootRentApplicationTests in 6.134 seconds (process running for 7.403)
2025-05-11 03:14:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 03:14:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 03:14:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 03:14:47 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 9948 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 03:14:47 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 03:14:47 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 03:14:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 03:14:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 03:14:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 03:14:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 03:14:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1345 ms
2025-05-11 03:14:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 03:14:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@77fc19cf
2025-05-11 03:14:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 03:14:49 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 03:14:49 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.052s)
2025-05-11 03:14:49 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.7
2025-05-11 03:14:49 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-05-11 03:14:49 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 03:14:49 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 03:14:49 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 03:14:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 03:14:50 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 03:14:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 03:14:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 03:14:51 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 03:14:51 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 03:14:51 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 03:14:51 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 03:14:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 03:14:52 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 5.182 seconds (process running for 6.035)
2025-05-11 03:15:03 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-11 03:15:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-11 03:15:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-11 03:15:03 [http-nio-8080-exec-1] INFO  r.n.s.controller.ScooterController - Полученный запрос: GET получения всех самокатов.
2025-05-11 03:15:03 [http-nio-8080-exec-1] INFO  r.n.s.s.s.ScooterServiceDefaultImpl - Получение всех самокатов
2025-05-11 03:15:03 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение всех сущностей Scooter.
2025-05-11 03:15:03 [http-nio-8080-exec-1] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдено 5 Scooter сущностей.
2025-05-11 03:15:03 [http-nio-8080-exec-1] INFO  r.n.s.s.s.ScooterServiceDefaultImpl - Получено 5 самокатов
2025-05-11 03:15:03 [http-nio-8080-exec-1] DEBUG r.n.s.controller.ScooterController - Получено самокатов: 5.
2025-05-11 03:15:42 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 03:15:42 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 03:15:42 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 03:15:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 03:15:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 18:13:01 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 1632 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 18:13:01 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 18:13:01 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 18:13:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 18:13:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 18:13:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 18:13:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 18:13:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2880 ms
2025-05-11 18:13:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 18:13:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@32e5af53
2025-05-11 18:13:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 18:13:05 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 18:13:05 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.5
-> Applied to database : -898919897
-> Resolved locally    : 1250493836
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.5
-> Applied to database : -1442884450
-> Resolved locally    : 1275632098
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-05-11 18:13:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 18:13:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 18:13:05 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-05-11 18:13:05 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-11 18:13:05 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.5
-> Applied to database : -898919897
-> Resolved locally    : 1250493836
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.5
-> Applied to database : -1442884450
-> Resolved locally    : 1275632098
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.noleg.scootrent.ScootRentApplication.main(ScootRentApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.5
-> Applied to database : -898919897
-> Resolved locally    : 1250493836
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.5
-> Applied to database : -1442884450
-> Resolved locally    : 1275632098
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.5
-> Applied to database : -898919897
-> Resolved locally    : 1250493836
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.5
-> Applied to database : -1442884450
-> Resolved locally    : 1275632098
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:189)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:176)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 17 common frames omitted
2025-05-11 18:31:40 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 11064 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 18:31:40 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 18:31:40 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 18:31:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 18:31:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 18:31:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 18:31:43 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 18:31:43 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2860 ms
2025-05-11 18:31:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 18:31:43 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71bb8b34
2025-05-11 18:31:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 18:31:44 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 18:31:44 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.5
-> Applied to database : -898919897
-> Resolved locally    : 1250493836
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.5
-> Applied to database : -1442884450
-> Resolved locally    : 1275632098
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-05-11 18:31:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 18:31:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 18:31:44 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-05-11 18:31:44 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-11 18:31:44 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.5
-> Applied to database : -898919897
-> Resolved locally    : 1250493836
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.5
-> Applied to database : -1442884450
-> Resolved locally    : 1275632098
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.noleg.scootrent.ScootRentApplication.main(ScootRentApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.5
-> Applied to database : -898919897
-> Resolved locally    : 1250493836
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.5
-> Applied to database : -1442884450
-> Resolved locally    : 1275632098
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.5
-> Applied to database : -898919897
-> Resolved locally    : 1250493836
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.5
-> Applied to database : -1442884450
-> Resolved locally    : 1275632098
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:189)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:176)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 17 common frames omitted
2025-05-11 18:33:15 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 21320 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 18:33:15 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 18:33:15 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 18:33:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 18:33:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 18:33:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 18:33:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 18:33:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2625 ms
2025-05-11 18:33:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 18:33:22 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Ошибка при попытке подсоединения.
----------------------------------------------------------------------------
SQL State  : 08001
Error Code : 0
Message    : Ошибка при попытке подсоединения.

2025-05-11 18:33:22 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-05-11 18:33:22 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-11 18:33:22 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Ошибка при попытке подсоединения.
----------------------------------------------------------------------------
SQL State  : 08001
Error Code : 0
Message    : Ошибка при попытке подсоединения.

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.noleg.scootrent.ScootRentApplication.main(ScootRentApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Ошибка при попытке подсоединения.
----------------------------------------------------------------------------
SQL State  : 08001
Error Code : 0
Message    : Ошибка при попытке подсоединения.

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Ошибка при попытке подсоединения.
----------------------------------------------------------------------------
SQL State  : 08001
Error Code : 0
Message    : Ошибка при попытке подсоединения.

	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:71)
	at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.<init>(JdbcConnectionFactory.java:76)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:137)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:176)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 17 common frames omitted
Caused by: org.postgresql.util.PSQLException: Ошибка при попытке подсоединения.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:364)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273)
	at org.postgresql.Driver.makeConnection(Driver.java:446)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:59)
	... 23 common frames omitted
Caused by: java.net.UnknownHostException: postgres
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:260)
	at org.postgresql.core.PGStream.<init>(PGStream.java:121)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:140)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:268)
	... 35 common frames omitted
2025-05-11 18:37:51 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 4004 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 18:37:51 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 18:37:51 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 18:37:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 18:37:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 18:37:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 18:37:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 18:37:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2352 ms
2025-05-11 18:37:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 18:37:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5f3b84bd
2025-05-11 18:37:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 18:37:54 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 18:37:54 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-05-11 18:37:54 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.056s)
2025-05-11 18:37:54 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" ...
2025-05-11 18:37:54 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2025-05-11 18:37:54 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.1 - create scooter model"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.2 - create location node"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.3 - create scooter"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.4 - create user"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.5 - create tariff"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.6 - create user tariff"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7 - create user subscriptions"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.8 - create rental"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.1 - insert scooterModels"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.2 - insert location node"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.3 - insert scooters"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.4 - insert users"
2025-05-11 18:37:55 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.5 - insert tariffs"
2025-05-11 18:37:55 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "2.5 - insert tariffs" failed! Changes successfully rolled back.
2025-05-11 18:37:55 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V2_5__insert_tariffs.sql failed
--------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: VALUES lists must all be the same length
  Позиция: 528
Location   : db/migration/V2_5__insert_tariffs.sql (C:\Users\nazar\java-project\scoot-rent\target\classes\db\migration\V2_5__insert_tariffs.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-05-11 18:37:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 18:37:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 18:37:55 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-05-11 18:37:55 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-11 18:37:55 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V2_5__insert_tariffs.sql failed
--------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: VALUES lists must all be the same length
  Позиция: 528
Location   : db/migration/V2_5__insert_tariffs.sql (C:\Users\nazar\java-project\scoot-rent\target\classes\db\migration\V2_5__insert_tariffs.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.noleg.scootrent.ScootRentApplication.main(ScootRentApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V2_5__insert_tariffs.sql failed
--------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: VALUES lists must all be the same length
  Позиция: 528
Location   : db/migration/V2_5__insert_tariffs.sql (C:\Users\nazar\java-project\scoot-rent\target\classes\db\migration\V2_5__insert_tariffs.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V2_5__insert_tariffs.sql failed
--------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: VALUES lists must all be the same length
  Позиция: 528
Location   : db/migration/V2_5__insert_tariffs.sql (C:\Users\nazar\java-project\scoot-rent\target\classes\db\migration\V2_5__insert_tariffs.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:149)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:230)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:176)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V2_5__insert_tariffs.sql failed
--------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: VALUES lists must all be the same length
  Позиция: 528
Location   : db/migration/V2_5__insert_tariffs.sql (C:\Users\nazar\java-project\scoot-rent\target\classes\db\migration\V2_5__insert_tariffs.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: VALUES lists must all be the same length
  Позиция: 528
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:210)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-05-11 22:16:07 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 10308 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 22:16:07 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 22:16:07 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 22:16:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 22:16:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 22:16:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 22:16:08 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 22:16:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1832 ms
2025-05-11 22:16:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 22:16:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@bd93bc3
2025-05-11 22:16:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 22:16:09 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 22:16:09 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.049s)
2025-05-11 22:16:09 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.4
2025-05-11 22:16:09 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.5 - insert tariffs"
2025-05-11 22:16:09 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.6 - insert user tariffs"
2025-05-11 22:16:09 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.7 - insert user subscriptions"
2025-05-11 22:16:09 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 3 migrations to schema "public", now at version v2.7 (execution time 00:00.025s)
2025-05-11 22:16:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 22:16:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 22:16:09 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 22:16:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 22:16:10 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 22:16:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 22:16:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 22:16:12 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 22:16:12 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 22:16:12 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 22:16:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 22:16:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 22:16:12 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 6.875 seconds (process running for 8.311)
2025-05-11 22:16:37 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-11 22:16:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-11 22:16:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-11 22:16:39 [http-nio-8080-exec-4] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 625 ms
2025-05-11 22:21:57 [http-nio-8080-exec-7] ERROR r.n.s.e.h.GlobalExceptionHandler - Exception occurred: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'ru.noleg.scootrent.entity.tariff.BillingMode'. Check configuration for 'startRental.billingMode'.
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'ru.noleg.scootrent.entity.tariff.BillingMode'. Check configuration for 'startRental.billingMode'
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162)
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58)
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraints(ValidatorImpl.java:537)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForSingleGroup(ValidatorImpl.java:991)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForGroup(ValidatorImpl.java:932)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersInContext(ValidatorImpl.java:863)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:283)
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:235)
	at org.springframework.validation.beanvalidation.MethodValidationAdapter.invokeValidatorForArguments(MethodValidationAdapter.java:261)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:168)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at ru.noleg.scootrent.controller.RentalController$$SpringCGLIB$$0.startRental(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-11 22:22:42 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 22:22:42 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 22:22:42 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 22:22:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 22:22:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 22:22:46 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 8444 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 22:22:46 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 22:22:46 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 22:22:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 22:22:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 22:22:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 22:22:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 22:22:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1241 ms
2025-05-11 22:22:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 22:22:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d401cdc
2025-05-11 22:22:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 22:22:48 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 22:22:48 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.055s)
2025-05-11 22:22:48 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.7
2025-05-11 22:22:48 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-05-11 22:22:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 22:22:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 22:22:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 22:22:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 22:22:48 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 22:22:50 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 22:22:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 22:22:50 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 22:22:50 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 22:22:50 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 22:22:50 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 22:22:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 22:22:50 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 4.929 seconds (process running for 5.694)
2025-05-11 22:22:59 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-11 22:22:59 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-11 22:22:59 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-11 22:22:59 [http-nio-8080-exec-1] INFO  r.n.s.controller.RentalController - Полученный запрос: POST /start с параметрами: userId=7, scooterId=2, rentalPointId=11, billingMode=PER_HOUR 
2025-05-11 22:22:59 [http-nio-8080-exec-1] INFO  r.n.s.s.r.RentalServiceDefaultImpl - Запрос на начало аренды. Пользователь: 7, Самокат: 2, Точка: 11.
2025-05-11 22:22:59 [http-nio-8080-exec-1] INFO  r.n.s.s.r.start.RentalStarterImpl - Начало аренды. Пользователь: 7, Самокат: 2, Точка: 11
2025-05-11 22:22:59 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности Scooter с id: 2.
2025-05-11 22:22:59 [http-nio-8080-exec-1] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдена сущность Scooter с id: 2.
2025-05-11 22:22:59 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности User с id: 7.
2025-05-11 22:22:59 [http-nio-8080-exec-1] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдена сущность User с id: 7.
2025-05-11 22:22:59 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности LocationNode с id: 11.
2025-05-11 22:22:59 [http-nio-8080-exec-1] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдена сущность LocationNode с id: 11.
2025-05-11 22:23:00 [http-nio-8080-exec-1] INFO  r.n.s.s.r.t.TariffSelectionServiceImpl - Поиск подходящего тарифа для пользователя с id: 7.
2025-05-11 22:23:00 [http-nio-8080-exec-1] DEBUG r.n.s.s.r.t.s.SubscriptionTariffStrategy - Выбор тарифа по подписке для пользователя с id: 7.
2025-05-11 22:23:00 [http-nio-8080-exec-1] DEBUG r.n.s.s.r.t.s.UserTariffStrategy - Выбор специального тарифа для пользователя с id: 7.
2025-05-11 22:23:00 [http-nio-8080-exec-1] DEBUG r.n.s.s.r.t.s.DefaultTariffStrategy - Выбор тарифа по умолчанию для пользователя с id: 7.
2025-05-11 22:23:00 [http-nio-8080-exec-1] INFO  r.n.s.s.r.t.TariffSelectionServiceImpl - Выбран тариф Default tariff per hour c типом: DEFAULT_TARIFF для пользователя с id: 7.
2025-05-11 22:23:00 [http-nio-8080-exec-1] INFO  r.n.s.r.util.BaseRepositoryImpl - Создана новая сущность Rental.
2025-05-11 22:23:00 [http-nio-8080-exec-1] INFO  r.n.s.s.r.start.RentalStarterImpl - Аренда успешно создана. id: 1.
2025-05-11 22:23:00 [http-nio-8080-exec-1] DEBUG r.n.s.controller.RentalController - Аренда начата успешно. rentalId=1.
2025-05-11 22:35:20 [http-nio-8080-exec-4] INFO  r.n.s.controller.RentalController - Полученный запрос: POST /end с параметрами: rentalId=1, endPointId=13.
2025-05-11 22:35:20 [http-nio-8080-exec-4] INFO  r.n.s.s.r.RentalServiceDefaultImpl - Запрос на завершение аренды id: 1, точка: 13.
2025-05-11 22:35:20 [http-nio-8080-exec-4] INFO  r.n.s.s.r.stop.RentalStopperImpl - Завершение аренды ID: 1, точка завершения: 13.
2025-05-11 22:35:20 [http-nio-8080-exec-4] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности Rental с id: 1.
2025-05-11 22:35:20 [http-nio-8080-exec-4] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдена сущность Rental с id: 1.
2025-05-11 22:35:20 [http-nio-8080-exec-4] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности LocationNode с id: 13.
2025-05-11 22:35:20 [http-nio-8080-exec-4] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдена сущность LocationNode с id: 13.
2025-05-11 22:35:20 [http-nio-8080-exec-4] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Расчет стоимости для типа тарифа: DEFAULT_TARIFF.
2025-05-11 22:35:20 [http-nio-8080-exec-4] INFO  r.n.s.s.r.b.s.DefaultTariffCostStrategy - Расчет стоимости аренды по умолчанию для пользователя с id: 7.
2025-05-11 22:35:20 [http-nio-8080-exec-4] DEBUG r.n.s.s.r.b.s.DefaultTariffCostStrategy - Длительность аренды PT12M19.7848161S.
2025-05-11 22:35:20 [http-nio-8080-exec-4] INFO  r.n.s.s.r.b.s.DefaultTariffCostStrategy - Итоговая стоимость аренды для пользователя с id: 7 = 196.0000
2025-05-11 22:35:20 [http-nio-8080-exec-4] INFO  r.n.s.r.util.BaseRepositoryImpl - Обновлена сущность Rental с id: 1.
2025-05-11 22:35:20 [http-nio-8080-exec-4] INFO  r.n.s.s.r.stop.RentalStopperImpl - Аренда id: 1 успешно завершена. Стоимость: 196.0000, Длительность: PT12M19.7848161S.
2025-05-11 22:35:20 [http-nio-8080-exec-4] DEBUG r.n.s.controller.RentalController - Аренда окончена: rentalId=1 на точке: endPointId=13.
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.controller.RentalController - Полученный запрос: POST /start с параметрами: userId=7, scooterId=2, rentalPointId=13, billingMode=PER_MINUTE 
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.s.r.RentalServiceDefaultImpl - Запрос на начало аренды. Пользователь: 7, Самокат: 2, Точка: 13.
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.s.r.start.RentalStarterImpl - Начало аренды. Пользователь: 7, Самокат: 2, Точка: 13
2025-05-11 22:48:05 [http-nio-8080-exec-5] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности Scooter с id: 2.
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдена сущность Scooter с id: 2.
2025-05-11 22:48:05 [http-nio-8080-exec-5] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности User с id: 7.
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдена сущность User с id: 7.
2025-05-11 22:48:05 [http-nio-8080-exec-5] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности LocationNode с id: 13.
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.r.util.BaseRepositoryImpl - Найдена сущность LocationNode с id: 13.
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.s.r.t.TariffSelectionServiceImpl - Поиск подходящего тарифа для пользователя с id: 7.
2025-05-11 22:48:05 [http-nio-8080-exec-5] DEBUG r.n.s.s.r.t.s.SubscriptionTariffStrategy - Выбор тарифа по подписке для пользователя с id: 7.
2025-05-11 22:48:05 [http-nio-8080-exec-5] DEBUG r.n.s.s.r.t.s.UserTariffStrategy - Выбор специального тарифа для пользователя с id: 7.
2025-05-11 22:48:05 [http-nio-8080-exec-5] DEBUG r.n.s.s.r.t.s.DefaultTariffStrategy - Выбор тарифа по умолчанию для пользователя с id: 7.
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.s.r.t.TariffSelectionServiceImpl - Выбран тариф Default tariff per minute c типом: DEFAULT_TARIFF для пользователя с id: 7.
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.r.util.BaseRepositoryImpl - Создана новая сущность Rental.
2025-05-11 22:48:05 [http-nio-8080-exec-5] INFO  r.n.s.s.r.start.RentalStarterImpl - Аренда успешно создана. id: 2.
2025-05-11 22:48:05 [http-nio-8080-exec-5] DEBUG r.n.s.controller.RentalController - Аренда начата успешно. rentalId=2.
2025-05-11 22:48:17 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 22:48:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 22:48:17 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 22:48:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 22:48:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 22:48:21 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 4596 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 22:48:21 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 22:48:21 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 22:48:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 22:48:23 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 22:48:23 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 22:48:23 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 22:48:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1241 ms
2025-05-11 22:48:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 22:48:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@41a16eb3
2025-05-11 22:48:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 22:48:23 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 22:48:23 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.055s)
2025-05-11 22:48:23 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.7
2025-05-11 22:48:23 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-05-11 22:48:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 22:48:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 22:48:23 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 22:48:24 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 22:48:24 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 22:48:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 22:48:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 22:48:25 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 22:48:25 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 22:48:25 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 22:48:25 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 22:48:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 22:48:26 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 4.802 seconds (process running for 5.516)
2025-05-11 22:48:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 22:48:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 22:48:31 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 22:48:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 22:48:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 22:56:06 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 4980 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 22:56:06 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 22:56:06 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 22:56:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 22:56:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 22:56:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 22:56:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 22:56:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1327 ms
2025-05-11 22:56:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 22:56:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63dda940
2025-05-11 22:56:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 22:56:07 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 22:56:08 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.058s)
2025-05-11 22:56:08 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.7
2025-05-11 22:56:08 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-05-11 22:56:08 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 22:56:08 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 22:56:08 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 22:56:08 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 22:56:08 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 22:56:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 22:56:10 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 22:56:10 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 22:56:10 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 22:56:10 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 22:56:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 22:56:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 22:56:10 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 5.219 seconds (process running for 5.946)
2025-05-11 22:59:29 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-11 22:59:29 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-11 22:59:29 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-11 22:59:29 [http-nio-8080-exec-1] INFO  r.n.s.controller.RentalController - Полученный запрос: POST /end с параметрами: rentalId=2, endPointId=11.
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.s.r.RentalServiceDefaultImpl - Запрос на завершение аренды id: 2, точка: 11.
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности Rental с id: 2.
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Найдена сущность Rental с id: 2.
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности LocationNode с id: 11.
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Найдена сущность LocationNode с id: 11.
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Расчет стоимости для типа тарифа: DEFAULT_TARIFF.
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.s.r.b.s.DefaultTariffCostStrategy - Расчет стоимости аренды по умолчанию для пользователя с id: 7. 
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.s.r.b.s.DefaultTariffCostStrategy - Итоговая стоимость аренды для пользователя с id: 7 = 210.00
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Обновлена сущность Rental с id: 2.
2025-05-11 22:59:29 [http-nio-8080-exec-1] DEBUG r.n.s.s.r.stop.RentalStopperImpl - Аренда id: 2 успешно завершена. Стоимость: 210.00, Длительность: PT11M24.2166757S.
2025-05-11 22:59:29 [http-nio-8080-exec-1] INFO  r.n.s.controller.RentalController - Аренда окончена: rentalId=2 на точке: endPointId=11.
2025-05-11 23:21:29 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 23:21:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 23:21:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 23:21:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 23:21:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 23:32:45 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 4144 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 23:32:45 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 23:32:45 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 23:32:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 23:32:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 23:32:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 23:32:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 23:32:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1390 ms
2025-05-11 23:32:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 23:32:47 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1a497286
2025-05-11 23:32:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 23:32:47 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 23:32:47 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.6
-> Applied to database : -290377888
-> Resolved locally    : 2093665076
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.6
-> Applied to database : 2043017563
-> Resolved locally    : -40582434
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-05-11 23:32:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 23:32:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 23:32:47 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-05-11 23:32:47 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-11 23:32:47 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ru/noleg/scootrent/configuration/JpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.6
-> Applied to database : -290377888
-> Resolved locally    : 2093665076
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.6
-> Applied to database : 2043017563
-> Resolved locally    : -40582434
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.noleg.scootrent.ScootRentApplication.main(ScootRentApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.6
-> Applied to database : -290377888
-> Resolved locally    : 2093665076
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.6
-> Applied to database : 2043017563
-> Resolved locally    : -40582434
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.6
-> Applied to database : -290377888
-> Resolved locally    : 2093665076
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2.6
-> Applied to database : 2043017563
-> Resolved locally    : -40582434
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:189)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:176)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 17 common frames omitted
2025-05-11 23:33:55 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 21672 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 23:33:55 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 23:33:55 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 23:33:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 23:33:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 23:33:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 23:33:56 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 23:33:56 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1415 ms
2025-05-11 23:33:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 23:33:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5873f3f0
2025-05-11 23:33:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 23:33:57 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 23:33:57 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.035s)
2025-05-11 23:33:57 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" ...
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.1 - create scooter model"
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.2 - create location node"
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.3 - create scooter"
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.4 - create user"
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.5 - create tariff"
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.6 - create user tariff"
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7 - create user subscriptions"
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.8 - create rental"
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.1 - insert scooterModels"
2025-05-11 23:33:57 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.2 - insert location node"
2025-05-11 23:33:58 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.3 - insert scooters"
2025-05-11 23:33:58 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.4 - insert users"
2025-05-11 23:33:58 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.5 - insert tariffs"
2025-05-11 23:33:58 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.6 - insert user tariffs"
2025-05-11 23:33:58 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2.7 - insert user subscriptions"
2025-05-11 23:33:58 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 15 migrations to schema "public", now at version v2.7 (execution time 00:00.347s)
2025-05-11 23:33:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 23:33:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 23:33:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 23:33:58 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 23:33:58 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 23:34:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 23:34:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 23:34:00 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 23:34:00 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 23:34:00 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 23:34:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 23:34:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 23:34:00 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 6.058 seconds (process running for 6.784)
2025-05-11 23:37:09 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-11 23:37:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-11 23:37:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-11 23:37:09 [http-nio-8080-exec-1] INFO  r.n.s.c.TariffAssignController - Полученный запрос: POST назначения тарифа с id: 5, пользователя с id: 6.
2025-05-11 23:37:09 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности User с id: 6.
2025-05-11 23:37:09 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Найдена сущность User с id: 6.
2025-05-11 23:37:09 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Получение сущности Tariff с id: 5.
2025-05-11 23:37:09 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Найдена сущность Tariff с id: 5.
2025-05-11 23:37:09 [http-nio-8080-exec-1] DEBUG r.n.s.r.util.BaseRepositoryImpl - Создана новая сущность UserTariff.
2025-05-11 23:37:09 [http-nio-8080-exec-1] DEBUG r.n.s.c.TariffAssignController - Тариф успешно назначен с ID: 5.
2025-05-11 23:39:14 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 23:39:14 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 23:39:14 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 23:39:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 23:39:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-11 23:39:19 [main] INFO  r.n.scootrent.ScootRentApplication - Starting ScootRentApplication using Java 21.0.4 with PID 9932 (C:\Users\nazar\java-project\scoot-rent\target\classes started by nazar in C:\Users\nazar\java-project\scoot-rent)
2025-05-11 23:39:19 [main] DEBUG r.n.scootrent.ScootRentApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-11 23:39:19 [main] INFO  r.n.scootrent.ScootRentApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 23:39:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-11 23:39:20 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 23:39:20 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-11 23:39:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 23:39:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1227 ms
2025-05-11 23:39:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 23:39:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4e3283f6
2025-05-11 23:39:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 23:39:21 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/scoot_rent_db_docker_test (PostgreSQL 16.9)
2025-05-11 23:39:21 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.053s)
2025-05-11 23:39:21 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 2.7
2025-05-11 23:39:21 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-05-11 23:39:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 23:39:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-11 23:39:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 23:39:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 23:39:22 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.9
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 23:39:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 23:39:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 23:39:23 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена DefaultTariffCostStrategy для тарифа с типом: DEFAULT_TARIFF.
2025-05-11 23:39:23 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена SubscriptionCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SUBSCRIPTION.
2025-05-11 23:39:23 [main] DEBUG r.n.s.s.r.billing.BillingServiceImpl - Стратегия добавлена UserTariffCostStrategy$$SpringCGLIB$$0 для тарифа с типом: SPECIAL_TARIFF.
2025-05-11 23:39:23 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 23:39:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-11 23:39:24 [main] INFO  r.n.scootrent.ScootRentApplication - Started ScootRentApplication in 4.762 seconds (process running for 5.465)
2025-05-11 23:40:40 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 23:40:40 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 23:40:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 23:40:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 23:40:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
